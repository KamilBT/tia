(this["webpackJsonpevent-planner"]=this["webpackJsonpevent-planner"]||[]).push([[0],{1:function(e,t,a){e.exports={style_white:"shared_style_white__3cgcf",content_center:"shared_content_center__gpa1u",log_screen:"shared_log_screen__1-PEk","bot-0":"shared_bot-0__zmjP7",screen:"shared_screen__1woNZ",hidden:"shared_hidden__2_qY2",user_icon:"shared_user_icon__2WtRR",detail_icon:"shared_detail_icon__2hfnF",menu_btn:"shared_menu_btn__10x25",menu_item:"shared_menu_item__38LnA",settings_img:"shared_settings_img__2dc8U",rotate:"shared_rotate__crEp4"}},16:function(e,t,a){e.exports=a.p+"static/media/back.71f10860.svg"},19:function(e,t,a){e.exports=a.p+"static/media/settings.80fe9ec5.svg"},28:function(e,t,a){e.exports=a.p+"static/media/icon.16abc18f.svg"},30:function(e,t,a){e.exports=a(44)},39:function(e,t,a){},41:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);a(31),a(32);var n=a(0),s=a.n(n),r=a(14),i=a.n(r),c=(a(39),a(6)),l=a.n(c),o=a(12),u=a(15),m=a(17),p=a(7),d=a(8),h=a(5),g=a(10),v=a(9),_=(a(41),a(1)),f=a.n(_),b=a(2),E=a.n(b),N=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).updateInputValue=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E()("#input_"+t.target.name).removeClass("is-invalid"),E()("#err_message").html("").fadeOut(),e.t0=t.target.name,e.next="pass"===e.t0?5:"name"===e.t0?8:11;break;case 5:return e.next=7,this.setState(Object(u.a)({},t.target.name,t.target.value));case 7:return e.abrupt("break",12);case 8:return e.next=10,this.props.onLoginScreenInput(t.target);case 10:case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.user_action=n.user_action.bind(Object(h.a)(n)),n.updateInputValue=n.updateInputValue.bind(Object(h.a)(n)),n.strings={sk:{name:"meno",pass:"heslo",login:"prihl\xe1si\u0165",register:"registr\xe1cia",taken:"Zvolen\xe9 meno je u\u017e zabrat\xe9, je potrebn\xe9 zvoli\u0165 nov\xe9",wrong:"Zadan\xe9 meno alebo heslo nie je spr\xe1vne"},en:{name:"name",pass:"password",login:"login",register:"register",taken:"username is already taken, please choose another",wrong:"Username or password is invalid"}},n.state={pass:""},n}return Object(d.a)(a,[{key:"user_action",value:function(e,t){if(e.preventDefault(),this.props.user.name.length>0&&this.state.pass.length>0){var a=this.strings[this.props.lang].taken,n=this.strings[this.props.lang].wrong;E.a.ajax({type:"post",url:this.props.baseUrl+"/public/backend/login_screen.php",data:E()("#loginForm").serialize()+"&action="+t,setUserList:this.props.setUserList,setUserListID:this.props.setUserListID,setUserID:this.props.setUserID,success:function(e){var t=JSON.parse(e);switch(null===t||void 0===t?void 0:t.check){case"taken":E()("#err_message").html(a).fadeIn();break;case"wrong":E()("#err_message").html(n).fadeIn();break;case"success":this.setUserList(t.data.userList,t.data.userListId),this.setUserID(t.data.user_id),E()("#login_screen").animate({left:"500px",opacity:"0"},500).fadeOut(),E()("#user_screen").fadeIn(),E()("#homeMenu").fadeIn()}}})}else 0===this.props.user.name.length?E()("#input_name").addClass("is-invalid"):E()("#input_name").removeClass("is-invalid"),0===this.state.pass.length?E()("#input_pass").addClass("is-invalid"):E()("#input_pass").removeClass("is-invalid")}},{key:"render",value:function(){var e=this,t=this.props.name;return s.a.createElement("form",{id:"loginForm",className:"mx-auto"},s.a.createElement("div",{className:"col-12 form-group"},s.a.createElement("input",{type:"text",id:"input_name",name:"name",className:"form-control",maxLength:"40",value:t,onChange:this.updateInputValue,placeholder:this.strings[this.props.lang].name})),s.a.createElement("div",{className:"col-12 form-group"},s.a.createElement("input",{type:"password",id:"input_pass",name:"pass",className:"form-control",maxLength:"40",onChange:this.updateInputValue,placeholder:this.strings[this.props.lang].pass})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"col-6 form-group"},s.a.createElement("button",{type:"submit",className:"btn align-self-end px-5 submit "+f.a.log_screen,onClick:function(t){return e.user_action(t,"login")}},this.strings[this.props.lang].login)),s.a.createElement("div",{className:"col-6 form-group"},s.a.createElement("button",{className:"btn align-self-end px-5 "+f.a.log_screen,onClick:function(t){return e.user_action(t,"register")}},this.strings[this.props.lang].register))),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{id:"err_message",className:"col-12 text-danger"})))}}]),a}(s.a.Component),k=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"login_screen",className:"container "+f.a.content_center},s.a.createElement("h2",{className:"text-white"},"Event planner"),s.a.createElement(N,{user:this.props.user,lang:this.props.lang,baseUrl:this.props.baseUrl,onLoginScreenInput:this.props.onLoginScreenInput,setUserList:this.props.setUserList,setUserID:this.props.setUserID}))}}]),a}(s.a.Component),j=a(19),w=a.n(j),x=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).strings={sk:{title:"Domov",settings:"Nastavenia",events:"Eventy",create_events:"Vytvor event",created_events:"Mana\u017ement vytvoren\xfdch eventov"},en:{title:"Home",settings:"Settings",events:"Events",create_events:"Create Events",created_events:"Manage created events"}},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"homeMenu",className:f.a.screen,style:{display:"block"}},s.a.createElement("h2",{className:"text-white"},this.strings[this.props.lang].title),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row w-100"},s.a.createElement("div",{className:"d-flex col-12 col-md-6 py-5 bg-red"},s.a.createElement("button",{onClick:function(t){return e.props.changeScreen("create_ev",t)},className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","p-4","mx-auto",f.a.menu_item].join(" ")},s.a.createElement("img",{src:w.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].create_events)))),s.a.createElement("div",{className:"d-flex col-12 col-md-6 py-5 bg-red"},s.a.createElement("button",{onClick:function(t){return e.props.changeScreen("settings",t)},className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","p-4","mx-auto",f.a.menu_item].join(" ")},s.a.createElement("img",{src:w.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].events),this.props.new_events>0&&this.props.new_events))),s.a.createElement("div",{className:"d-flex col-12 col-md-6 py-5 bg-red"},s.a.createElement("button",{onClick:function(t){return e.props.changeScreen("manage_created",t)},className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","p-4","mx-auto",f.a.menu_item].join(" ")},s.a.createElement("img",{src:w.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].created_events),this.props.new_events>0&&this.props.new_events))),s.a.createElement("div",{className:"d-flex col-12 col-md-6 py-5 bg-red"},s.a.createElement("button",{onClick:function(t){return e.props.changeScreen("settings",t)},className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","p-4","mx-auto",f.a.menu_item].join(" ")},s.a.createElement("img",{src:w.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].settings)))))))}}]),a}(s.a.Component),y=a(16),O=a.n(y),C=a(25),S=a(29),I=Object(S.a)(),U=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).switchEventType=n.switchEventType.bind(Object(h.a)(n)),n.updateInputValue=n.updateInputValue.bind(Object(h.a)(n)),n.createEvent=n.createEvent.bind(Object(h.a)(n)),n.updateToSend=n.updateToSend.bind(Object(h.a)(n)),n.strings={sk:{title:"Tvorenie eventu",back:"Nasp\xe4\u0165",settings:"Nastavenia",events:"Eventy",create_events:"Vytvor event",event_type:"Zvo\u013e type eventu",event_name:"N\xe1zov eventu",event_location:"Lokalita eventu",event_date:"D\xe1tum konania/za\u010diatku eventu",event_time:"\u010cas za\u010datia eventu",send:"Posla\u0165",sendTo:"Vyberte, kto dostane pozv\xe1nku"},en:{title:"Event creation",back:"Return",settings:"Settings",events:"Events",create_events:"Create Events",event_type:"Choose event type",event_name:"Set event name",event_location:"Set event location",event_date:"Set date for event",event_time:"Set starting time for event",send:"Send",sendTo:"Choose, who will recive invite"}},n.state={event_type:"",event_name:"",event_location:"",event_date:"",event_time:"",add_form:!1,send_to:null,send_to_id:null},n.event_types={sk:[{value:"default",label:"Z\xe1kladn\xfd typ"},{value:"booking",label:"Rezerv\xe1cia"}],en:[{value:"default",label:"Default"},{value:"booking",label:"Booking"}]},n.selectStyles={container:function(e){return Object(m.a)({},e,{flex:1})}},n}return Object(d.a)(a,[{key:"switchEventType",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({event_type:t.value});case 2:e.t0=t.value,e.next="default"===e.t0?5:"booking"===e.t0?9:11;break;case 5:return E()("#event_default").fadeIn(),E()("#event_default2").fadeIn(),E()("#extension_booking").fadeOut(),e.abrupt("break",12);case 9:return E()("#extension_booking").fadeIn(),e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:console.log(this.state);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateInputValue",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E()("#"+t.target.name).removeClass("is-invalid"),e.next=3,this.setState(Object(u.a)({},t.target.name,t.target.value));case 3:console.log(this.state);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateToSend",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props.user.userList),a=[],t&&t.forEach((function(e){a.push({name:e.value,id:e.user_id})})),e.next=5,this.setState({send_to:a});case 5:console.log(this.state);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createEvent",value:function(e){e.preventDefault(),this.state.event_name.length>0&&this.state.event_location.length>0&&this.state.event_date.length>0&&this.state.event_time.length&&this.state.send_to?E.a.ajax({type:"post",url:this.props.baseUrl+"/public/backend/createEvent.php",data:"name="+this.props.user.name+"&id_sender="+this.props.user.id+"&action=defaultEv&ev_name="+this.state.event_name+"&ev_location="+this.state.event_location+"&ev_date="+this.state.event_date+"&ev_time="+this.state.event_time+"&send_to="+JSON.stringify(this.state.send_to),success:function(e){var t=JSON.parse(e);switch(null===t||void 0===t?void 0:t.check){case"success":E()("#createEventScreen").fadeOut(),E()("#homeMenu").fadeIn()}}}):(0===this.state.event_name.length?E()("#event_name").addClass("is-invalid"):E()("#event_name").removeClass("is-invalid"),0===this.state.event_location.length?E()("#event_location").addClass("is-invalid"):E()("#event_location").removeClass("is-invalid"),0===this.state.event_date.length?E()("#event_date").addClass("is-invalid"):E()("#event_date").removeClass("is-invalid"),0===this.state.event_time.length?E()("#event_time").addClass("is-invalid"):E()("#event_time").removeClass("is-invalid"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"createEventScreen",className:[f.a.screen,f.a.hidden].join(" ")},s.a.createElement("h2",{className:"text-white"},this.strings[this.props.lang].title),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row w-100 m-0"},s.a.createElement("div",{className:"d-flex col-12 py-2 bg-red"},s.a.createElement("button",{onClick:function(t){return e.props.changeScreen("home_ce",t)},className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","mx-auto","text-white"].join(" ")},s.a.createElement("img",{src:O.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].back)))),s.a.createElement(C.a,{name:"colors",components:I,options:this.event_types[this.props.lang],className:"basic-single",classNamePrefix:"select",styles:this.selectStyles,placeholder:s.a.createElement("div",null,this.strings[this.props.lang].event_type),onChange:this.switchEventType}),s.a.createElement("form",{id:"create_event",className:"container pt-4 px-0"},s.a.createElement("div",{id:"event_default",className:["row","mx-auto",f.a.hidden].join(" ")},s.a.createElement("h4",{className:"text-white"},this.strings[this.props.lang].event_name),s.a.createElement("div",{className:"col-12 form-group"},s.a.createElement("input",{type:"text",id:"event_name",name:"event_name",className:"form-control",maxLength:"40",onChange:this.updateInputValue,placeholder:this.strings[this.props.lang].event_name})),s.a.createElement("h4",{className:"text-white"},this.strings[this.props.lang].event_location),s.a.createElement("div",{className:"col-12 form-group"},s.a.createElement("input",{type:"text",id:"event_location",name:"event_location",className:"form-control",maxLength:"40",onChange:this.updateInputValue,placeholder:this.strings[this.props.lang].event_location})),s.a.createElement("h4",{className:"text-white"},this.strings[this.props.lang].event_date),s.a.createElement("div",{className:"col-12 form-group"},s.a.createElement("input",{type:"date",id:"event_date",name:"event_date",className:"form-control",maxLength:"40",onChange:this.updateInputValue,placeholder:this.strings[this.props.lang].event_date})),s.a.createElement("h4",{className:"text-white"},this.strings[this.props.lang].event_time),s.a.createElement("div",{className:"col-12 form-group"},s.a.createElement("input",{type:"time",id:"event_time",name:"event_time",className:"form-control",maxLength:"40",onChange:this.updateInputValue,placeholder:this.strings[this.props.lang].event_time}))),s.a.createElement("div",{id:"extension_booking",className:["mx-auto",f.a.hidden].join(" ")}),s.a.createElement("div",{id:"event_default2",className:["row","mx-auto","pt-4",f.a.hidden].join(" ")},s.a.createElement(C.a,{isMulti:!0,name:"sendTo",components:I,options:this.props.user.userList,className:"basic-multi-select",classNamePrefix:"select",styles:this.selectStyles,placeholder:s.a.createElement("div",null,this.strings[this.props.lang].sendTo),onChange:function(t){return e.updateToSend(t)}}),s.a.createElement("div",{className:"col-6 pt-4 form-group"},s.a.createElement("button",{className:"btn align-self-end px-5 "+f.a.log_screen,onClick:this.createEvent},this.strings[this.props.lang].send))),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{id:"create_event_err",className:"col-12 text-danger"}))))))}}]),a}(s.a.Component),L=a(28),D=a.n(L),V=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).strings={sk:{name:"N\xe1zov",location:"Lokalita",date:"D\xe1tum",time:"\u010cas"},en:{name:"Name",location:"Location",date:"Date",time:"Time"}},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.created_ev;return s.a.createElement("div",{id:"create_events_list",className:"row"},Object.keys(t).map((function(a){return s.a.createElement("div",{className:["my-3","p-3","col-12",f.a.style_white].join(" "),key:"evet_id-"+a},s.a.createElement("span",{className:["text-white","col-12"].join(" ")},e.strings[e.props.lang].name,": ",t[a].name),s.a.createElement("span",{className:["text-white","col-12"].join(" ")},e.strings[e.props.lang].location,": ",t[a].location),s.a.createElement("span",{className:["text-white","col-12"].join(" ")},e.strings[e.props.lang].date,": ",t[a].date),s.a.createElement("span",{className:["text-white","col-12"].join(" ")},e.strings[e.props.lang].time,": ",t[a].time),s.a.createElement("button",{className:f.a.menu_btn,onClick:function(t){return e.props.openDetails(a,t)}},s.a.createElement("img",{src:O.a,className:["settings",f.a.detail_icon,f.a.settings_img].join(" "),alt:"settings"})))})))}}]),a}(s.a.Component),z=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).closeDetail=n.closeDetail.bind(Object(h.a)(n)),n.strings={sk:{name:"N\xe1zov",user:"Pou\u017e\xedvate\u013e",confirmation:"Stav potvrdenia",dismiss:"Zatvoril",none_yet:"Nevyjadril sa"},en:{name:"Name",user:"User",confirmation:"Confirmation status",dismiss:"Dissmissed",none_yet:"No comment yet "}},n}return Object(d.a)(a,[{key:"closeDetail",value:function(){E()("#event_details").fadeOut()}},{key:"render",value:function(){var e,t=this,a=this.props.detail_id,n=null===(e=this.props.created_ev[a])||void 0===e?void 0:e.send_to;return s.a.createElement("div",{className:"container"},null!=n&&s.a.createElement("h3",{className:"text-white w-100 text-center p-3"},"Event: ",this.props.created_ev[a].name),null!=n&&Object.keys(n).map((function(e){return console.log(e),s.a.createElement("div",{className:["row"].join(" "),key:"detail_of-"+e},s.a.createElement("h4",{className:"text-white w-100 text-left p-3"},t.strings[t.props.lang].user,": ",n[e].name),s.a.createElement("span",{className:["text-white","text-left","col-6"].join(" ")},t.strings[t.props.lang].confirmation,":"),s.a.createElement("span",{className:["text-white","text-right","col-6"].join(" ")},null==n[e].response&&t.strings[t.props.lang].none_yet),s.a.createElement("span",{className:["text-white","text-left","col-6"].join(" ")},t.strings[t.props.lang].dismiss,":"),s.a.createElement("span",{className:["text-white","text-rigt","col-6"].join(" ")},0==n[e].dismiss&&"No"),s.a.createElement("div",{className:["col-12",f.a.style_white].join(" ")}))})),s.a.createElement("button",{className:["col-12",f.a.menu_btn].join(" "),onClick:function(e){return t.closeDetail(e)}},s.a.createElement("img",{src:O.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"})))}}]),a}(s.a.Component),M=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).openDetails=n.openDetails.bind(Object(h.a)(n)),n.strings={sk:{title:"Mana\u017ement vytvoren\xfdch eventov",back:"Nasp\xe4\u0165",total:"V\u0161etko: ",close:"Zavrie\u0165"},en:{title:"Management of created events",back:"Return",total:"All: ",close:"Close"}},n.state={total:null,detail_id:null},n.event_types={sk:[{value:"default",label:"Z\xe1kladn\xfd typ"},{value:"booking",label:"Rezerv\xe1cia"}],en:[{value:"default",label:"Default"},{value:"booking",label:"Booking"}]},n.selectStyles={container:function(e){return Object(m.a)({},e,{flex:1})}},n}return Object(d.a)(a,[{key:"openDetails",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({detail_id:t});case 2:E()("#event_details").fadeIn(),console.log(this.state);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"manageCreatedScreen",className:[f.a.screen,f.a.hidden].join(" ")},s.a.createElement("h2",{className:"text-white"},this.strings[this.props.lang].title),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row w-100 m-0"},s.a.createElement("div",{className:"d-flex col-12 py-2 bg-red"},s.a.createElement("button",{onClick:function(t){return e.props.changeScreen("mng_created_back",t)},className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","mx-auto","text-white"].join(" ")},s.a.createElement("img",{src:O.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].back)))),s.a.createElement("div",{className:"d-flex col-6 py-2 bg-red"},s.a.createElement("div",{className:["d-flex","mx-auto","text-white"].join(" ")},s.a.createElement("img",{src:D.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].total))),s.a.createElement("div",{id:"created_list",className:["container",f.a.hidden].join(" ")},s.a.createElement(V,{created_ev:this.props.created_ev,lang:this.props.lang,openDetails:this.openDetails})),s.a.createElement("div",{id:"event_details",className:["container","bg-dark",f.a.style_white,f.a.content_center,f.a.hidden].join(" ")},s.a.createElement(z,{created_ev:this.props.created_ev,lang:this.props.lang,detail_id:this.state.detail_id})))))}}]),a}(s.a.Component),P=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).updateInputValue=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E()("#input_"+t.target.name).removeClass("is-invalid"),E()("#new_pass_err").html("").fadeOut(),e.t0=t.target.name,e.next="old_pass"===e.t0?5:"new_pass"===e.t0?8:11;break;case 5:return e.next=7,this.setState({old_pass:t.target.value});case 7:return e.abrupt("break",12);case 8:return e.next=10,this.setState({new_pass:t.target.value});case 10:case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.user_action=n.user_action.bind(Object(h.a)(n)),n.updateInputValue=n.updateInputValue.bind(Object(h.a)(n)),n.strings={sk:{old_pass:"P\xf4vodn\xe9 heslo",new_pass:"Nov\xe9 heslo",update:"Vykonaj",close:"Zavri",wrong:"Zadan\xe9 p\xf4vodn\xe9 heslo je nespr\xe1vne"},en:{old_pass:"Old password",new_pass:"New password",update:"Update",close:"Close",wrong:"Your old password does not match"}},n.state={old_pass:"",new_pass:""},n}return Object(d.a)(a,[{key:"user_action",value:function(e,t){switch(e.preventDefault(),console.log(t),t){case"close_change_pass":E()("#changePass").fadeOut();break;case"change_pass":if(this.state.new_pass.length>0&&this.state.new_pass.length>0){var a=this.strings[this.props.lang].wrong;E.a.ajax({type:"post",url:this.props.baseUrl+"/public/backend/login_screen.php",data:E()("#changePass").serialize()+"&action="+t+"&name="+this.props.user.name,success:function(e){var t=JSON.parse(e);switch(null===t||void 0===t?void 0:t.check){case"wrong":E()("#new_pass_err").html(a).fadeIn();break;case"success":E()("#changePass").fadeOut()}}})}else 0===this.state.old_pass.length?E()("#input_old_pass").addClass("is-invalid"):E()("#input_old_pass").removeClass("is-invalid"),0===this.state.new_pass.length?E()("#input_new_pass").addClass("is-invalid"):E()("#input_new_pass").removeClass("is-invalid")}}},{key:"render",value:function(){var e=this,t=this.props.name;return s.a.createElement("form",{id:"changePass",className:["position-absolute","p-3","bg-dark",f.a.content_center,f.a.style_white,f.a.hidden].join(" "),style:{zIndex:"5"}},s.a.createElement("div",{className:"col-12 form-group"},s.a.createElement("input",{type:"password",id:"input_old_pass",name:"old_pass",className:"form-control",maxLength:"40",value:t,onChange:this.updateInputValue,placeholder:this.strings[this.props.lang].old_pass})),s.a.createElement("div",{className:"col-12 form-group"},s.a.createElement("input",{type:"password",id:"input_new_pass",name:"new_pass",className:"form-control",maxLength:"40",onChange:this.updateInputValue,placeholder:this.strings[this.props.lang].new_pass})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"col-6 form-group"},s.a.createElement("button",{type:"submit",className:"btn align-self-end px-5 submit "+f.a.log_screen,onClick:function(t){return e.user_action(t,"change_pass")}},this.strings[this.props.lang].update)),s.a.createElement("div",{className:"col-6 form-group"},s.a.createElement("button",{type:"submit",className:"btn align-self-end px-5 submit "+f.a.log_screen,onClick:function(t){return e.user_action(t,"close_change_pass")}},this.strings[this.props.lang].close))),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{id:"new_pass_err",className:"col-12 text-danger"})))}}]),a}(s.a.Component),T=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).openPassWindow=n.openPassWindow.bind(Object(h.a)(n)),n.deleteCheck=n.deleteCheck.bind(Object(h.a)(n)),n.deleteAccount=n.deleteAccount.bind(Object(h.a)(n)),n.hideCheck=n.hideCheck.bind(Object(h.a)(n)),n.strings={sk:{title:"Nastavenia",back:"Nasp\xe4\u0165",change:"Zmena hesla",delete:"Zma\u017e \xfa\u010det",sure:"Naozaj chete vymaza\u0165 konto?",no:"Nie",yes:"\xc1no"},en:{title:"Settings",back:"Return",change:"Change password",delete:"Delete account",sure:"Are you sure?",no:"No",yes:"Yes"}},n}return Object(d.a)(a,[{key:"openPassWindow",value:function(){E()("#changePass").fadeIn()}},{key:"deleteCheck",value:function(){E()("#delete_check").fadeIn()}},{key:"hideCheck",value:function(){E()("#delete_check").fadeOut()}},{key:"deleteAccount",value:function(){console.log("deleting account: "+this.props.user.name);var e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);E.a.ajax({type:"post",url:this.props.baseUrl+"/public/backend/deleteAcc.php",data:{name:this.props.user.name,action:"deleteUsr",check:e},props:this.props,success:function(e){console.log(JSON.parse(e)),E()("#delete_check").fadeOut(),E()("#settings_screen").fadeOut(),E()("#user_screen").fadeOut(),E()("#login_screen").fadeIn().animate({left:"0",opacity:"1"},500),this.props.updateName("")}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"settings_screen",className:[f.a.screen,f.a.hidden].join(" ")},s.a.createElement("h2",{className:"text-white"},this.strings[this.props.lang].title),s.a.createElement("div",{id:"delete_check",className:["position-absolute","p-3","bg-dark",f.a.content_center,f.a.style_white,f.a.hidden].join(" "),style:{zIndex:"5"}},s.a.createElement("h3",null,this.strings[this.props.lang].sure),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"col-6 form-group"},s.a.createElement("button",{type:"submit",className:"btn align-self-end px-5 submit "+f.a.log_screen,onClick:this.hideCheck},this.strings[this.props.lang].no)),s.a.createElement("div",{className:"col-6 form-group"},s.a.createElement("button",{className:"btn align-self-end px-5 "+f.a.log_screen,onClick:this.deleteAccount},this.strings[this.props.lang].yes)))),s.a.createElement(P,{user:this.props.user,lang:this.props.lang,baseUrl:this.props.baseUrl}),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row w-100"},s.a.createElement("div",{className:"d-flex col-12 py-2 bg-red"},s.a.createElement("button",{onClick:function(t){return e.props.changeScreen("home_sett",t)},className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","mx-auto","text-white"].join(" ")},s.a.createElement("img",{src:O.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].back)))),s.a.createElement("div",{className:"d-flex col-12 py-2 bg-red"},s.a.createElement("button",{onClick:this.openPassWindow,className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","p-4","mx-auto",f.a.menu_item].join(" ")},s.a.createElement("img",{src:w.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].change)))),s.a.createElement("div",{className:"d-flex col-12 py-2 bg-red"},s.a.createElement("button",{onClick:this.deleteCheck,className:f.a.menu_btn},s.a.createElement("div",{className:["d-flex","p-4","mx-auto",f.a.menu_item].join(" ")},s.a.createElement("img",{src:w.a,className:["settings",f.a.user_icon,f.a.settings_img].join(" "),alt:"settings"}),s.a.createElement("h3",{className:"pl-3 align-self-center"},this.strings[this.props.lang].delete)))))))}}]),a}(s.a.Component),Z=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).changeScreen=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({screen:t});case 2:console.log("switch to "+n.state.screen),e.t0=t,e.next="settings"===e.t0?6:"home_sett"===e.t0?9:"create_ev"===e.t0?12:"home_ce"===e.t0?15:"manage_created"===e.t0?18:"mng_created_back"===e.t0?22:"detailEv_close"===e.t0?26:27;break;case 6:return E()("#homeMenu").fadeOut(),E()("#settings_screen").fadeIn(),e.abrupt("break",28);case 9:return E()("#settings_screen").fadeOut(),E()("#homeMenu").fadeIn(),e.abrupt("break",28);case 12:return E()("#homeMenu").fadeOut(),E()("#createEventScreen").fadeIn(),e.abrupt("break",28);case 15:return E()("#createEventScreen").fadeOut(),E()("#homeMenu").fadeIn(),e.abrupt("break",28);case 18:return n.getCreatedEvents(),E()("#homeMenu").fadeOut(),E()("#manageCreatedScreen").fadeIn(),e.abrupt("break",28);case 22:return E()("#manageCreatedScreen").fadeOut(),E()("#event_details").fadeOut(),E()("#homeMenu").fadeIn(),e.abrupt("break",28);case 26:E()("#event_details").fadeOut();case 27:return e.abrupt("break",28);case 28:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.updateNewEventsCount=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({new_events:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeScreen=n.changeScreen.bind(Object(h.a)(n)),n.updateNewEventsCount=n.updateNewEventsCount.bind(Object(h.a)(n)),n.getCreatedEvents=n.getCreatedEvents.bind(Object(h.a)(n)),n.strings={sk:{welcome:"Vitaj",settings:"Nastavenia"},en:{welcome:"Welcome",settings:"Settings"}},n.state={screen:"home",new_events:0,created_ev:{}},n}return Object(d.a)(a,[{key:"getCreatedEvents",value:function(){E.a.ajax({type:"post",url:this.props.baseUrl+"/public/backend/getCreated.php",data:"name="+this.props.user.name+"&id_sender="+this.props.user.id+"&action=getAll",user:this,success:function(e){var t=JSON.parse(e);switch(null===t||void 0===t?void 0:t.check){case"success":console.log(null===t||void 0===t?void 0:t.data);var a=null===t||void 0===t?void 0:t.data.events,n={};a.forEach((function(e){n.hasOwnProperty(e.id_event)?n[e.id_event].send_to[e.id_user]={response:e.response,dismiss:e.dismiss,name:e.user_name}:n[e.id_event]={sender:e.id_sender,name:e.name,location:e.location,date:e.date,time:e.time,send_to:Object(u.a)({},e.id_user,{response:e.response,dismiss:e.dismiss,name:e.user_name})}})),this.user.setState({created_ev:n}),console.log(this.user.state),E()("#created_list").fadeIn()}}})}},{key:"render",value:function(){var e=this.state.screen,t=this.props.user,a=this.props.lang,n=this.props.baseUrl,r=this.state.new_events;return console.log(this.state),s.a.createElement("div",{id:"user_screen",className:["container","py-5",f.a.screen,f.a.hidden].join(" ")},s.a.createElement("h3",{className:"text-white"},this.strings[this.props.lang].welcome+" "+this.props.user.name," "),s.a.createElement(x,{user:t,sreen:e,lang:a,baseUrl:n,changeScreen:this.changeScreen,new_events:r,updateNewEventsCount:this.updateNewEventsCount}),s.a.createElement(U,{user:t,sreen:e,lang:a,baseUrl:n,changeScreen:this.changeScreen}),s.a.createElement(M,{user:t,sreen:e,lang:a,baseUrl:n,changeScreen:this.changeScreen,created_ev:this.state.created_ev}),s.a.createElement(T,{user:t,sreen:e,lang:a,baseUrl:n,changeScreen:this.changeScreen,updateName:this.props.updateName}))}}]),a}(s.a.Component),A=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getSupportedLang=n.getSupportedLang.bind(Object(h.a)(n)),n.updateName=n.updateName.bind(Object(h.a)(n)),n.setUserList=n.setUserList.bind(Object(h.a)(n)),n.setUserID=n.setUserID.bind(Object(h.a)(n)),n.onLoginScreenInput=n.onLoginScreenInput.bind(Object(h.a)(n)),n.state={user:{name:"",id:"",userList:[],userListID:[]},lang:"en",baseUrl:"http://localhost/fmfi/tia/event-planner"},n}return Object(d.a)(a,[{key:"getSupportedLang",value:function(){var e=navigator.language.substring(0,2);["sk","en"].includes(e)||(e="en"),this.setState({lang:e})}},{key:"onLoginScreenInput",value:function(e){console.log(e.name+": "+e.value),this.setState((function(t){return{user:Object(m.a)({},t.user,Object(u.a)({},e.name,e.value))}}))}},{key:"updateName",value:function(e){this.setState((function(t){return{user:Object(m.a)({},t.user,{name:e})}}))}},{key:"setUserID",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState((function(e){return{user:Object(m.a)({},e.user,{id:t})}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setUserList",value:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],s=0;s<t.length;s++)n.push({value:t[s],label:t[s],user_id:a[s]});return e.next=4,this.setState((function(e){return{user:Object(m.a)({},e.user,{userList:n})}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user,t=this.state.lang,a=this.state.baseUrl;return s.a.createElement("div",{className:"App container-fluid bg-dark",style:{height:"100vh",overflowX:"hidden"}},s.a.createElement(k,{user:e,lang:t,baseUrl:a,onLoginScreenInput:this.onLoginScreenInput,setUserList:this.setUserList,setUserID:this.setUserID}),s.a.createElement("div",{className:"row"},s.a.createElement(Z,{user:e,lang:t,baseUrl:a,updateName:this.updateName})))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.12b875e1.chunk.js.map